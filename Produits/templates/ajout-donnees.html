{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ajout des Produits</title>

  <!-- Fichiers CSS -->
  <link rel="stylesheet" href="{% static 'bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'font-awesome.min.css' %}">
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: rgba(21,30,47,1);
      margin: 0;
      padding: 40px 0;
    }
    .form-container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
    }
    h2 {
      font-size: 26px;
      font-weight: bold;
      margin-bottom: 10px;
      text-align: center;
      color: #333;
    }
    p {
      text-align: center;
      font-size: 14px;
      color: #777;
    }
    .form-group label {
      font-weight: 600;
      margin-bottom: 5px;
    }
    .form-control {
      border-radius: 6px;
      padding: 10px;
      border: 1px solid #ced4da;
    }
    .form-control:focus {
      border-color: #007BFF;
      box-shadow: 0 0 5px rgba(0,123,255,0.4);
    }
    .btn-primary {
      background-color: #007BFF;
      border: none;
      font-weight: bold;
      border-radius: 6px;
      padding: 10px;
      transition: all 0.3s ease;
    }
    .btn-primary:hover {
      background-color: #0056b3;
    }
    .btn-secondary {
      background-color: #6c757d;
      border: none;
      font-weight: bold;
      border-radius: 6px;
      padding: 10px;
      transition: all 0.3s ease;
    }
    .btn-secondary:hover {
      background-color: #5a6268;
    }
    .error {
      color: red;
      font-size: 13px;
      margin-top: 3px;
    }
    .messages {
      list-style: none;
      padding: 0;
      margin-bottom: 15px;
    }
    .messages li {
      background: #ffe0e0;
      color: #d9534f;
      padding: 10px;
      margin-bottom: 5px;
      border-radius: 6px;
      text-align: left;
    }
  </style>
</head>
<body>

  <div class="form-container">
    <h2>Ajout dâ€™un produit</h2>
    <p>Veuillez remplir tous les champs obligatoires</p>

    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}

      {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li {% if message.tags %} class="{{ message.tags }}" {% endif %}>
            {{ message }}
          </li>
        {% endfor %}
      </ul>
      {% endif %}

      <div class="form-group">
        <label for="name">Nom du Produit : <span class="text-danger"></span></label>
        <input type="text" class="form-control" id="name" name="name" placeholder="Entrez le nom" required>
        {% if errors.name %}<div class="error">{{ errors.name }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="category">CatÃ©gorie : <span class="text-danger"></span></label>
        <select name="category" id="category" class="form-control" required>
          <option value="">SÃ©lectionnez une catÃ©gorie</option>
          {% for cat in category %}
            <option value="{{ cat.pk }}">{{ cat.name }}</option>
          {% endfor %}
        </select>
        {% if errors.category %}<div class="error">{{ errors.category }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="price">Prix : <span class="text-danger"></span></label>
        <input type="number" step="0.01" class="form-control" id="price" name="price" placeholder="Ex: 1500.00" required>
        {% if errors.price %}<div class="error">{{ errors.price }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="quantite">QuantitÃ© :<span class="text-danger"></span></label>
        <input type="number" class="form-control" id="quantite" name="quantite" placeholder="Ex: 50" required>
        {% if errors.quantite %}<div class="error">{{ errors.quantite }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="date_expiration">Date dâ€™expiration :<span class="text-danger"></span></label>
        <input type="date" class="form-control" id="date_expiration" name="date_expiration" required>
        {% if errors.date_expiration %}<div class="error">{{ errors.date_expiration }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="image">Image du produit :<span class="text-danger"></span></label>
        <input type="file" class="form-control" id="image" name="image" required>
        {% if errors.image %}<div class="error">{{ errors.image }}</div>{% endif %}
      </div>

      <div class="form-group">
        <label for="description">Description :<span class="text-danger"></span></label>
        <textarea id="description" name="description" class="form-control" rows="3" placeholder="Entrez une description" required></textarea>
        {% if errors.description %}<div class="error">{{ errors.description }}</div>{% endif %}
      </div>

      <div class="d-flex justify-content-between mt-3">
        <button type="submit" class="btn btn-primary btn-block">ðŸ’¾ Enregistrer</button>
        <a href="http://127.0.0.1:8000" class="btn btn-secondary btn-block">â¬… Retour</a>
      </div>
    </form>
  </div>

</body>
</html>
